<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf=8">
    <title>Sudoku</title>
  </head>

  <body>
    <div class="grid">
      <div class="big-square" id="square1">
        <input onchange="changeColor(this)" id="square1-1" class="sq-input row1 col1" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square1-2" class="sq-input row1 col2" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square1-3" class="sq-input row1 col3" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square1-4" class="sq-input row2 col1" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square1-5" class="sq-input row2 col2" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square1-6" class="sq-input row2 col3" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square1-7" class="sq-input row3 col1" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square1-8" class="sq-input row3 col2" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square1-9" class="sq-input row3 col3" type="text" maxlength="1"/>
      </div>
      <div class="big-square" id="square2">
        <input onchange="changeColor(this)" id="square2-1" class="sq-input row1 col4" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square2-2" class="sq-input row1 col5" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square2-3" class="sq-input row1 col6" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square2-4" class="sq-input row2 col4" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square2-5" class="sq-input row2 col5" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square2-6" class="sq-input row2 col6" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square2-7" class="sq-input row3 col4" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square2-8" class="sq-input row3 col5" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square2-9" class="sq-input row3 col6" type="text" maxlength="1"/>
      </div>
      <div class="big-square" id="square3">
        <input onchange="changeColor(this)" id="square3-1" class="sq-input row1 col7" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square3-2" class="sq-input row1 col8" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square3-3" class="sq-input row1 col9" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square3-4" class="sq-input row2 col7" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square3-5" class="sq-input row2 col8" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square3-6" class="sq-input row2 col9" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square3-7" class="sq-input row3 col7" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square3-8" class="sq-input row3 col8" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square3-9" class="sq-input row3 col9" type="text" maxlength="1"/>
      </div>
      <div class="big-square" id="square4">
        <input onchange="changeColor(this)" id="square4-1" class="sq-input row4 col1" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square4-2" class="sq-input row4 col2" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square4-3" class="sq-input row4 col3" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square4-4" class="sq-input row5 col1" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square4-5" class="sq-input row5 col2" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square4-6" class="sq-input row5 col3" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square4-7" class="sq-input row6 col1" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square4-8" class="sq-input row6 col2" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square4-9" class="sq-input row6 col3" type="text" maxlength="1"/>
      </div>
      <div class="big-square" id="square5">
        <input onchange="changeColor(this)" id="square5-1" class="sq-input row4 col4" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square5-2" class="sq-input row4 col5" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square5-3" class="sq-input row4 col6" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square5-4" class="sq-input row5 col4" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square5-5" class="sq-input row5 col5" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square5-6" class="sq-input row5 col6" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square5-7" class="sq-input row6 col4" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square5-8" class="sq-input row6 col5" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square5-9" class="sq-input row6 col6" type="text" maxlength="1"/>
      </div>
      <div class="big-square" id="square6">
        <input onchange="changeColor(this)" id="square6-1" class="sq-input row4 col7" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square6-2" class="sq-input row4 col8" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square6-3" class="sq-input row4 col9" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square6-4" class="sq-input row5 col7" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square6-5" class="sq-input row5 col8" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square6-6" class="sq-input row5 col9" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square6-7" class="sq-input row6 col7" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square6-8" class="sq-input row6 col8" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square6-9" class="sq-input row6 col9" type="text" maxlength="1"/>
      </div>
      <div class="big-square" id="square7">
        <input onchange="changeColor(this)" id="square7-1" class="sq-input row7 col1" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square7-2" class="sq-input row7 col2" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square7-3" class="sq-input row7 col3" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square7-4" class="sq-input row8 col1" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square7-5" class="sq-input row8 col2" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square7-6" class="sq-input row8 col3" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square7-7" class="sq-input row9 col1" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square7-8" class="sq-input row9 col2" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square7-9" class="sq-input row9 col3" type="text" maxlength="1"/>
      </div>
      <div class="big-square" id="square8">
        <input onchange="changeColor(this)" id="square8-1" class="sq-input row7 col4" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square8-2" class="sq-input row7 col5" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square8-3" class="sq-input row7 col6" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square8-4" class="sq-input row8 col4" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square8-5" class="sq-input row8 col5" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square8-6" class="sq-input row8 col6" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square8-7" class="sq-input row9 col4" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square8-8" class="sq-input row9 col5" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square8-9" class="sq-input row9 col6" type="text" maxlength="1"/>
      </div>
      <div class="big-square" id="square9">
        <input onchange="changeColor(this)" id="square9-1" class="sq-input row7 col7" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square9-2" class="sq-input row7 col8" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square9-3" class="sq-input row7 col9" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square9-4" class="sq-input row8 col7" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square9-5" class="sq-input row8 col8" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square9-6" class="sq-input row8 col9" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square9-7" class="sq-input row9 col7" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square9-8" class="sq-input row9 col8" type="text" maxlength="1"/>
        <input onchange="changeColor(this)" id="square9-9" class="sq-input row9 col9" type="text" maxlength="1"/>
      </div>
    </div>


    <link rel="stylesheet" href="sudoku.css"/>
<!--     when cell is highlighted, add css -->
<!-- define cell highlighted css to have blue background     -->
    <script>
      function changeColor(scope) {
        var inputValue = scope.value;
        console.log("this is the scope:");
        console.log(inputValue);
        console.log(scope);
        //if there is an input, change background color and text color
        if (/[1-9]/.test(inputValue)) {
          if (inputValue != "" && scope.style.backgroundColor != "red"){
             scope.style.backgroundColor = "blue";
             scope.style.color = "white";
          }
        }
        //if cell is blank, change background color and text color back to original
        else if (inputValue === "") {
          console.log('else statment here');
          scope.style.backgroundColor = "white";
          scope.style.color = "black";
        }
        else {
          scope.value = "";
          console.log("please enter a number between 0 and 9.");
        }

        var row1 = document.getElementsByClassName('row1');

        // gets values for row
        function getValues(row) {
          var values = [];
          for(var i = 0; i < row.length; i++){
            values.push(row[i].value)
          };
          return values
        };

        // add listener to row1
        for(var i = 0; i < row1.length; i++) {
          row1[i].addEventListener('input', function(){
            allValues      = getValues(row1);
            numbersOnly    = allValues.filter(Number);
            originalLength = numbersOnly.length;
            uniqLength     = uniqNumbers(numbersOnly).length;

            // if uniqLength < originalLength it means there are duplicate numbers
            // highlight row
            if(uniqLength < originalLength) {
              for(var i = 0; i < row1.length; i++) {
                row1[i].style.backgroundColor = "red";
                row1[i].style.color = "white";
              };
            };
          });
        };

        // find uniq numbers
        function uniqNumbers(ary) {
          return ary.reduce(function(a,b){
            if (a.indexOf(b) < 0) a.push(b);
            return a;
          }, []);
        };
      };

    </script>
  </body>

</html>











